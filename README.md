# PHP VK Services

Набор мини-сервисов и ботов в ВК для собственных нужд

```bash
$ git clone https://github.com/provodd/vk_bot.git
$ composer install
```
Далее переименовываем `config.example.php` на `config.php` и заполняем
все конфигурационные данные.

Требования:

- `php` (>=8.1)
- `mysql`

## Список сервисов:
### Сервис Модерации
- Предназначен для автоматической модерации предложенных постов в группе 
  по ключевым словам и прочим параметрам. 

    - `api.php` - точка входа, получаем callback от VK и пишем в БД
       (Предварительно получить токен и настроить раздел API 
      в настройках группы в вк)
    - `/cron/moderation.php` файл, который модерирует
      и публикует ранее записанные в БД посты (кладем в крон)
    
### Сервис Постов
- Предназначен для автоматического формирования постов,
  нанесения на них водяного знака и публикации в группу
    - `/cron/get_posts.php` - получение и формирование постов в БД,
      можно вызывать вручную по необходимости, можно закинуть в крон.
    - `/cron/publish_posts.php` - аналогично для публикации постов
      
### Сервис Викторины
- Предназначен для создания игры "Викторина" в чатах/беседах.
    - `api.php` - точка входа, чекаем сообщения от пользователей, 
      при получении команды на старт, начинаем викторину.
    - `/cron/victorina.php` - чекает текущие викторины, если надо дает 
      подсказки либо закрывает игру (кладем в крон)

### Сервис Чат-бот
- Предназначен для добавления в беседы чат-бота (на базе Chat GPT)
    - `/curl/chatbot.php` - запускаем скрипт в отдельном файле через курл с таймаутом,
    что бы из-за длительного ожидания от api chatgpt, не был просрочен таймаут запроса от api vk